# Render.com Deployment Guide

Deploy your Multi-Tenant Document Management System on Render.com's generous free tier.

## Why Render.com?

âœ… **750 hours/month free** (enough for 24/7 uptime)  
âœ… **Free PostgreSQL database** (1GB, 90-day retention)  
âœ… **Auto-deploy from GitHub**  
âœ… **HTTPS included**  
âœ… **No credit card required**  
âœ… **Perfect for full-stack apps**

## Quick Deployment Steps

### Step 1: Sign Up & Connect GitHub

1. Go to [render.com](https://render.com)
2. Sign up with your GitHub account
3. Authorize Render to access your repositories

### Step 2: Deploy Backend Service

1. **Create Web Service:**
   - Click "New +" â†’ "Web Service"
   - Connect repository: `safespacelabs/-Multitenant_Document_Mnagement_System`
   - Branch: `development`
   - Root Directory: `backend`

2. **Service Configuration:**
   ```
   Name: multitenant-backend
   Environment: Python 3
   Build Command: pip install -r requirements.txt && python -m spacy download en_core_web_sm
   Start Command: uvicorn app.main:app --host 0.0.0.0 --port $PORT
   ```

3. **Set Environment Variables:**
   ```
   SECRET_KEY=your-secret-key-here
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=30
   AWS_ACCESS_KEY_ID=your-aws-key
   AWS_SECRET_ACCESS_KEY=your-aws-secret
   GROQ_API_KEY=your-groq-key
   SENDER_EMAIL=your-email@domain.com
   SENDER_PASSWORD=your-email-password
   ```

### Step 3: Create PostgreSQL Database

1. **Create Database:**
   - Click "New +" â†’ "PostgreSQL"
   - Name: `multitenant-db`
   - Free tier selected

2. **Connect to Backend:**
   - Database will auto-generate `DATABASE_URL`
   - Add to backend environment variables:
   ```
   DATABASE_URL=<auto-generated>
   MANAGEMENT_DATABASE_URL=<same-as-above>
   ```

### Step 4: Deploy Frontend

1. **Create Static Site:**
   - Click "New +" â†’ "Static Site"
   - Same repository: `safespacelabs/-Multitenant_Document_Mnagement_System`
   - Branch: `development`
   - Root Directory: `frontend`

2. **Build Configuration:**
   ```
   Build Command: npm install && npm run build
   Publish Directory: build
   ```

3. **Environment Variables:**
   ```
   REACT_APP_API_URL=https://multitenant-backend.onrender.com
   CI=false
   ```

### Step 5: Update CORS Settings

After both services are deployed, update backend environment variables:
```
CORS_ORIGINS=https://multitenant-frontend.onrender.com
APP_URL=https://multitenant-frontend.onrender.com
```

## Free Tier Limits

- **Web Services**: 750 hours/month
- **Static Sites**: Unlimited
- **PostgreSQL**: 1GB storage, 90-day retention
- **Bandwidth**: 100GB/month
- **Build Time**: 90 minutes/month

## Alternative Free Platforms

### Option 2: Supabase + Vercel
```bash
# Deploy frontend to Vercel
npm i -g vercel
vercel --prod

# Use Supabase for database + auth
# Free tier: 50MB database, 50k monthly active users
```

### Option 3: Netlify + PythonAnywhere
- **Netlify**: Frontend hosting (100GB bandwidth/month)
- **PythonAnywhere**: Python backend hosting (free tier available)

## Cost Comparison

| Platform | Backend | Frontend | Database | Monthly Cost |
|----------|---------|-----------|-----------|--------------|
| **Render** | 750hrs free | Free | 1GB free | $0 |
| **Vercel + Supabase** | Serverless | Free | 50MB free | $0 |
| **Railway** | Limited free | Limited free | External | $0* |
| **Heroku** | 550hrs free | Via backend | Add-on | $0* |

**Render.com is the clear winner for your full-stack app!**

## Environment Variables Checklist

### Backend (.env)
```env
DATABASE_URL=<from-render-postgres>
MANAGEMENT_DATABASE_URL=<same-as-above>
SECRET_KEY=<generate-random-32-chars>
AWS_ACCESS_KEY_ID=<your-aws-key>
AWS_SECRET_ACCESS_KEY=<your-aws-secret>
GROQ_API_KEY=<your-groq-key>
SENDER_EMAIL=<your-email>
SENDER_PASSWORD=<your-app-password>
CORS_ORIGINS=https://multitenant-frontend.onrender.com
```

### Frontend
```env
REACT_APP_API_URL=https://multitenant-backend.onrender.com
```

## Deployment Commands (if needed)

```bash
# Push to GitHub (auto-deploys)
git add .
git commit -m "Deploy to Render"
git push origin development

# Or use Render CLI
npm install -g @render/cli
render login
render deploy
```

## Troubleshooting

1. **Build Failures**: Check build logs in Render dashboard
2. **Database Connection**: Verify DATABASE_URL is set correctly
3. **CORS Errors**: Update CORS_ORIGINS after frontend deployment
4. **Module Errors**: Ensure all requirements are in requirements.txt

## Support

- **Render Docs**: [render.com/docs](https://render.com/docs)
- **Community**: [community.render.com](https://community.render.com)
- **Status**: [status.render.com](https://status.render.com)

Ready to deploy? Let's go with Render.com! ðŸš€